{
    "mark": "iotm",
    "config": [
        {
            "global": 0,
            "type": "Reading",
            "subtype": "Variable",
            "id": "voutDistance",
            "needSave": 0,
            "widget": "anydataKm",
            "page": "Output",
            "descr": "Distance",
            "int": "0",
            "val": "0.0",
            "map": "",
            "plus": 0,
            "multiply": "0.001",
            "round": 0,
            "moduleName": "Variable"
        },
        {
            "global": 0,
            "type": "Reading",
            "subtype": "Variable",
            "id": "voutAzimuth",
            "needSave": 0,
            "widget": "anydataСorner",
            "page": "Output",
            "descr": "Azimuth",
            "int": "0",
            "val": "0.0",
            "map": "1024,1024,1,100",
            "plus": 0,
            "multiply": 1,
            "round": 0,
            "moduleName": "Variable"
        },
        {
            "global": 0,
            "type": "Reading",
            "subtype": "Presence",
            "id": "presence",
            "widget": "anydataM",
            "page": "Presence",
            "descr": "Distance",
            "Lat. A": "47.0159",
            "Long. A": "28.8448",
            "parameter": "distance",
            "topic": "/myPhone/status",
            "isJson": 1,
            "round": "0",
            "orange": 60,
            "red": 120,
            "offline": 180,
            "int": 15,
            "ticker": 1,
            "debug": 1,
            "moduleName": "Presence"
        },
        {
            "global": 0,
            "type": "Reading",
            "subtype": "Variable",
            "id": "voutLat",
            "needSave": 0,
            "widget": "anydataСorner",
            "page": "Output",
            "descr": "Latitude",
            "int": "0",
            "val": "0.0",
            "map": "",
            "plus": 0,
            "multiply": 1,
            "round": "1",
            "moduleName": "Variable"
        },
        {
            "global": 0,
            "type": "Reading",
            "subtype": "Variable",
            "id": "voutLong",
            "needSave": 0,
            "widget": "anydataСorner",
            "page": "Output",
            "descr": "Longitude",
            "int": "0",
            "val": "0.0",
            "map": "",
            "plus": 0,
            "multiply": 1,
            "round": "1",
            "moduleName": "Variable"
        },
        {
            "global": 0,
            "type": "Reading",
            "subtype": "Variable",
            "id": "voutbatteryLevel",
            "needSave": 0,
            "widget": "anydataHum",
            "page": "Output",
            "descr": "batteryLevel",
            "int": "0",
            "val": "0.0",
            "map": "",
            "plus": 0,
            "multiply": 1,
            "round": 0,
            "moduleName": "Variable"
        },
        {
            "global": 0,
            "type": "Reading",
            "subtype": "Variable",
            "id": "voutgeoTime",
            "needSave": 0,
            "widget": "anydataDef",
            "page": "Output",
            "descr": "geoTime",
            "int": "0",
            "val": "0.0",
            "map": "1024,1024,1,100",
            "plus": 0,
            "multiply": 1,
            "round": 0,
            "moduleName": "Variable"
        },
        {
            "global": 0,
            "type": "Reading",
            "subtype": "Variable",
            "id": "voutgeoTimestamp",
            "needSave": 0,
            "widget": "anydataDef",
            "page": "Output",
            "descr": "geoTimestamp",
            "int": "0",
            "val": "0.0",
            "map": "1024,1024,1,100",
            "plus": 0,
            "multiply": 1,
            "round": 0,
            "moduleName": "Variable"
        },
        {
            "global": 0,
            "type": "Reading",
            "subtype": "Variable",
            "id": "voutcurrentTime",
            "needSave": 0,
            "widget": "anydataDef",
            "page": "Output",
            "descr": "currentTime",
            "int": "0",
            "val": "0.0",
            "map": "1024,1024,1,100",
            "plus": 0,
            "multiply": 1,
            "round": 0,
            "moduleName": "Variable"
        },
        {
            "global": 0,
            "type": "Reading",
            "subtype": "Variable",
            "id": "voutcurrentTimestamp",
            "needSave": 0,
            "widget": "anydataDef",
            "page": "Output",
            "descr": "currentTimestamp",
            "int": "0",
            "val": "0.0",
            "map": "1024,1024,1,100",
            "plus": 0,
            "multiply": 1,
            "round": 0,
            "moduleName": "Variable"
        },
        {
            "global": 0,
            "type": "Reading",
            "subtype": "Variable",
            "id": "voutnextScheduledTime",
            "needSave": 0,
            "widget": "anydataDef",
            "page": "Output",
            "descr": "nextScheduledTime",
            "int": "0",
            "val": "0.0",
            "map": "1024,1024,1,100",
            "plus": 0,
            "multiply": 1,
            "round": 0,
            "moduleName": "Variable"
        },
        {
            "global": 0,
            "type": "Reading",
            "subtype": "Variable",
            "id": "voutnextScheduledTimestamp",
            "needSave": 0,
            "widget": "anydataDef",
            "page": "Output",
            "descr": "nextScheduledTimestamp",
            "int": "0",
            "val": "0.0",
            "map": "1024,1024,1,100",
            "plus": 0,
            "multiply": 1,
            "round": 0,
            "moduleName": "Variable"
        },
        {
            "global": 0,
            "type": "Reading",
            "subtype": "Variable",
            "id": "voutnextAlarmclockTime",
            "needSave": 0,
            "widget": "anydataDef",
            "page": "Output",
            "descr": "nextAlarmclockTime",
            "int": "0",
            "val": "0.0",
            "map": "1024,1024,1,100",
            "plus": 0,
            "multiply": 1,
            "round": 0,
            "moduleName": "Variable"
        },
        {
            "global": 0,
            "type": "Reading",
            "subtype": "Variable",
            "id": "voutnextAlarmclockTimestamp",
            "needSave": 0,
            "widget": "anydataDef",
            "page": "Output",
            "descr": "nextAlarmclockTimestamp",
            "int": "0",
            "val": "0.0",
            "map": "1024,1024,1,100",
            "plus": 0,
            "multiply": 1,
            "round": 0,
            "moduleName": "Variable"
        },
        {
            "global": 0,
            "type": "Reading",
            "subtype": "Variable",
            "id": "voutchargingState",
            "needSave": 0,
            "widget": "anydataDef",
            "page": "Output",
            "descr": "chargingState",
            "int": "0",
            "val": "0.0",
            "map": "1024,1024,1,100",
            "plus": 0,
            "multiply": 1,
            "round": 0,
            "moduleName": "Variable"
        },
        {
            "global": 0,
            "type": "Reading",
            "subtype": "Variable",
            "id": "voutplugState",
            "needSave": 0,
            "widget": "anydataDef",
            "page": "Output",
            "descr": "plugState",
            "int": "0",
            "val": "0.0",
            "map": "1024,1024,1,100",
            "plus": 0,
            "multiply": 1,
            "round": 0,
            "moduleName": "Variable"
        },
        {
            "global": 0,
            "type": "Reading",
            "subtype": "Variable",
            "id": "voutconnectedWifi",
            "needSave": 0,
            "widget": "anydataDef",
            "page": "Output",
            "descr": "connectedWifi",
            "int": "0",
            "val": "0.0",
            "map": "1024,1024,1,100",
            "plus": 0,
            "multiply": 1,
            "round": 0,
            "moduleName": "Variable"
        },
        {
            "global": 0,
            "type": "Reading",
            "subtype": "Variable",
            "id": "voutdeviceName",
            "needSave": 0,
            "widget": "anydataDef",
            "page": "Output",
            "descr": "deviceName",
            "int": "0",
            "val": "0.0",
            "map": "1024,1024,1,100",
            "plus": 0,
            "multiply": 1,
            "round": 0,
            "moduleName": "Variable"
        },
        {
            "global": 0,
            "type": "Reading",
            "subtype": "Variable",
            "id": "voutgeoLocation",
            "needSave": 0,
            "widget": "anydataDef",
            "page": "Output",
            "descr": "geoLocation",
            "int": "0",
            "val": "0.0",
            "map": "1024,1024,1,100",
            "plus": 0,
            "multiply": 1,
            "round": 0,
            "moduleName": "Variable"
        },
        {
            "global": 0,
            "type": "Reading",
            "subtype": "Variable",
            "id": "voutconditionContent",
            "needSave": 0,
            "widget": "anydataDef",
            "page": "Output",
            "descr": "conditionContent",
            "int": "0",
            "val": "0.0",
            "map": "1024,1024,1,100",
            "plus": 0,
            "multiply": 1,
            "round": 0,
            "moduleName": "Variable"
        }
    ]
}

scenario=> if presence then {
voutDistance = presence.distance(47.0159,28.8448)
voutAzimuth = presence.azimuth(47.0159,28.8448)
voutLat = presence.latitude()
voutLong = presence.longitude()
voutbatteryLevel = presence.batteryLevel()
voutgeoTime = presence.geoTime()
voutgeoTimestamp = presence.geoTimestamp()
voutcurrentTime = presence.currentTime()
voutcurrentTimestamp = presence.currentTimestamp()
voutnextScheduledTime = presence.nextScheduledTime()
voutnextScheduledTimestamp = presence.nextScheduledTimestamp()
voutnextAlarmclockTime = presence.nextAlarmclockTime()
voutnextAlarmclockTimestamp = presence.nextAlarmclockTimestamp()
voutchargingState = presence.chargingState()
voutplugState = presence.plugState()
voutconnectedWifi = presence.connectedWifi()
voutdeviceName = presence.deviceName()
voutgeoLocation = presence.geoLocation()
voutconditionContent = presence.conditionContent()
}