{
    "mark": "iotm",
    "config": [
        {
            "global": 0,
            "type": "Reading",
            "subtype": "VButton",
            "id": "btn",
            "needSave": 0,
            "widget": "toggle",
            "page": "Ввод",
            "descr": "ТестКнопка",
            "int": "0",
            "val": "0",
            "value_fnt": "siji",
            "gliphs": ""
        },
        {
            "global": 0,
            "type": "Writing",
            "subtype": "Timer",
            "id": "timer",
            "widget": "anydataDef",
            "page": "Ввод",
            "descr": "Таймер",
            "int": 1,
            "countDown": "99",
            "ticker": 1,
            "repeat": 1,
            "needSave": 0,
            "pref": "ТАЙМЕР: ",
            "suff": " сек",
            "round": "0"
        },
        {
            "global": 0,
            "type": "Reading",
            "subtype": "Variable",
            "id": "time",
            "needSave": 0,
            "widget": "anydataRed",
            "page": "Ввод",
            "descr": "Время",
            "int": "0",
            "val": "",
            "pref": " ⏰️",
            "pref_fnt": "unifont"
        },
        {
            "global": 0,
            "type": "Reading",
            "subtype": "Variable",
            "id": "var",
            "needSave": 0,
            "widget": "inputTxt",
            "page": "Ввод",
            "descr": "Текст",
            "int": "0",
            "val": "☀️-☁️-☂️-☃️-☄️",
            "map": "1024,1024,1,100",
            "plus": 0,
            "multiply": 1,
            "round": 0,
            "pref": "текст: ",
            "value_fnt": "unifont"
        },
        {
            "global": 0,
            "type": "Reading",
            "subtype": "Variable",
            "id": "ip",
            "needSave": 0,
            "widget": "anydataDef",
            "page": "Ввод",
            "descr": "IP",
            "int": "0",
            "val": "",
            "pref": "IP: "
        },
        {
            "type": "Reading",
            "subtype": "U8g2lib",
            "id": "page1",
            "widget": "nil",
            "page": "",
            "descr": "",
            "oledType": "SS_I2C",
            "int": "1",
            "font": "c6x13",
            "contrast": "200",
            "rotation": "0",
            "autoPage": "0",
            "pageTime": "10000",
            "dc": 19,
            "cs": "-1",
            "data": "21",
            "clock": "22",
            "rst": -1,
            "id2show": "timer,lvl#ip"
        },
        {
            "type": "Reading",
            "subtype": "U8g2lib",
            "id": "page2",
            "widget": "nil",
            "page": "",
            "descr": "",
            "oledType": "SS_I2C",
            "int": 1,
            "update": 500,
            "font": "c6x13",
            "contrast": "150",
            "rotation": "0",
            "autoPage": "0",
            "pageTime": 3000,
            "id2show": "var#btn,time",
            "dc": "-1",
            "cs": "-1",
            "data": "-1",
            "clock": "-1",
            "rst": -1
        },
        {
            "global": 0,
            "type": "Reading",
            "subtype": "VButton",
            "id": "autoPage",
            "needSave": 0,
            "widget": "toggle",
            "page": "Ввод",
            "descr": "autoPage",
            "int": "0",
            "val": "0"
        },
        {
            "global": 0,
            "type": "Reading",
            "subtype": "VButton",
            "id": "nextPage",
            "needSave": 0,
            "widget": "toggle",
            "page": "Ввод",
            "descr": "nextPage",
            "int": "0",
            "val": "0"
        },
        {
            "global": 0,
            "type": "Reading",
            "subtype": "VButton",
            "id": "prevPage",
            "needSave": 0,
            "widget": "toggle",
            "page": "Ввод",
            "descr": "prevPage",
            "int": "0",
            "val": "0"
        },
        {
            "global": 0,
            "type": "Reading",
            "subtype": "Variable",
            "id": "pageN",
            "needSave": 0,
            "widget": "inputDgt",
            "page": "Ввод",
            "descr": "pageN",
            "int": "0",
            "val": "0.0",
            "map": "1024,1024,1,100",
            "plus": 0,
            "multiply": 1,
            "round": 0
        },
        {
            "global": 0,
            "type": "Reading",
            "subtype": "VButton",
            "id": "rotPage",
            "needSave": 0,
            "widget": "toggle",
            "page": "Ввод",
            "descr": "rotPage",
            "int": "0",
            "val": "0"
        },
        {
            "global": 0,
            "type": "Reading",
            "subtype": "AnalogAdc",
            "id": "lvl",
            "widget": "anydataRed",
            "page": "Ввод",
            "descr": "Уровень",
            "map": "1,1024,1,5",
            "plus": 0,
            "multiply": 1,
            "round": "0",
            "pin": "34",
            "int": "1",
            "avgSteps": 1,
            "pref": " ",
            "value_fnt": "siji",
            "gliphs": ""
        }
    ]
}

scenario=>if timer then { 
ip = getIP()
time = gethhmmss()
}
if autoPage then page1.setAutoPage(1) else page1.setAutoPage(0)
if nextPage < 2 then page1.nextPage()
if prevPage < 2 then page1.prevPage()
if rotPage < 2 then page1.rotPage()
if pageN != "" then page1.gotoPage(pageN)